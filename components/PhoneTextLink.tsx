'use client';

import React from 'react';

interface PhoneTextLinkProps {
  className?: string;
  trackLocation?: string;
  textColor?: string;
  iconColor?: string;
  phoneNumber?: string;
  displayText?: string;
}

export function PhoneTextLink({ 
  className = '', 
  trackLocation = 'Unknown',
  textColor = 'text-[#252932]',
  iconColor = '#0A50EC',
  phoneNumber = '(561) 223-9959',
  displayText = '(561) 223-9959'
}: PhoneTextLinkProps) {
  const cleanPhone = phoneNumber.replace(/[^\d]/g, '');

  const handleClick = () => {
    if (typeof window !== "undefined" && window.dataLayer) {
      window.dataLayer.push({
        event: 'call_click',
        phone_number: cleanPhone,
        location: trackLocation
      });
    }
  };

  return (
    <div className={`flex flex-row items-center space-x-[8px] ${className}`}>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none" className="flex-shrink-0">
        <path 
          fillRule="evenodd" 
          clipRule="evenodd" 
          d="M11.3852 0.0666578C11.0536 -0.0290477 10.7071 0.162219 10.6114 0.493864C10.5157 0.825509 10.707 1.17194 11.0386 1.26765C13.78 2.05874 15.9419 4.22057 16.7331 6.96182C16.8288 7.29347 17.1752 7.48472 17.5069 7.389C17.8385 7.29328 18.0298 6.94684 17.9341 6.6152C17.0238 3.46127 14.5392 0.976833 11.3852 0.0666578ZM10.9112 4.11842C10.5935 3.9835 10.2266 4.13169 10.0916 4.4494C9.95671 4.76712 10.1049 5.13406 10.4226 5.26898C11.4596 5.70934 12.2914 6.54113 12.7318 7.57812C12.8667 7.89584 13.2336 8.04402 13.5514 7.9091C13.8691 7.77417 14.0173 7.40724 13.8823 7.08952C13.3154 5.75446 12.2463 4.68536 10.9112 4.11842ZM4.51311 0.906545C4.27945 0.487351 3.90337 0.170069 3.43113 0.0724652C2.95397 -0.0261574 2.47434 0.119319 2.08015 0.440604C0.649844 1.60636 -0.260852 3.47409 0.134395 5.43344C0.377348 6.63783 0.78211 7.82615 1.60638 9.26341C3.2606 12.1479 5.84983 14.7385 8.73763 16.3947C10.1749 17.2189 11.3632 17.6237 12.5676 17.8666C14.5269 18.2619 16.3947 17.3512 17.5604 15.9209C17.8817 15.5267 18.0272 15.0471 17.9286 14.5699C17.831 14.0977 17.5137 13.7216 17.0945 13.4879L15.7591 12.7436L15.7591 12.7436C15.2673 12.4694 14.8534 12.2387 14.4936 12.088C14.1119 11.9282 13.7355 11.8332 13.3194 11.8766C12.9032 11.92 12.5545 12.0906 12.2141 12.3257C11.8931 12.5474 11.5357 12.8585 11.111 13.2283L8.97846 15.0848C6.56267 13.611 4.38855 11.4359 2.91618 9.02257L4.77273 6.89005C5.14248 6.46536 5.45365 6.10797 5.67532 5.78698C5.91047 5.44649 6.08101 5.0978 6.12441 4.68166C6.1678 4.26553 6.07287 3.88915 5.91303 3.50747C5.76236 3.14766 5.53163 2.73376 5.25746 2.24192L5.25745 2.24191L4.51311 0.906545ZM12.8148 16.6413C11.9601 16.4689 11.1147 16.2075 10.1427 15.7286L11.9059 14.1936C12.3633 13.7954 12.668 13.5313 12.9244 13.3543C13.1677 13.1862 13.3167 13.1337 13.449 13.1199C13.5814 13.1061 13.7379 13.1267 14.0107 13.241C14.2981 13.3613 14.6508 13.5569 15.1805 13.8521L16.4859 14.5798C16.6449 14.6684 16.6927 14.7659 16.7044 14.8229C16.7152 14.875 16.7145 14.9803 16.5915 15.1312C15.655 16.2801 14.2281 16.9264 12.8148 16.6413ZM3.80745 6.09513L2.27246 7.85829C1.79352 6.88632 1.53212 6.04092 1.35971 5.18627C1.0746 3.77289 1.72089 2.34601 2.86987 1.40954C3.02073 1.28658 3.12604 1.28583 3.17813 1.29659C3.23514 1.30838 3.33262 1.3561 3.42127 1.51514L4.14892 2.82057C4.44418 3.35027 4.6397 3.70291 4.76005 3.9903C4.87429 4.2631 4.89495 4.41965 4.88115 4.55201C4.86734 4.68438 4.81483 4.83329 4.64676 5.07665C4.46971 5.33303 4.20564 5.63774 3.80745 6.09513Z" 
          fill={iconColor} 
        />
      </svg>
      <a
        href={`tel:+1${cleanPhone}`}
        className={`hover:text-[#0A50EC] hover:underline transition-colors duration-200 ${textColor} font-bold`}
        onClick={handleClick}
        style={{
          fontFamily: "var(--font-inter)",
        }}
      >
        {displayText}
      </a>
    </div>
  );
}
